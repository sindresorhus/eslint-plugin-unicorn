# Snapshot report for `test/prefer-add-event-listener.mjs`

The actual snapshot is saved in `prefer-add-event-listener.mjs.snap`.

Generated by [AVA](https://avajs.dev).

## Invalid(1): foo.onclick = () => {}

> Input

    `␊
      1 | foo.onclick = () => {}␊
    `

> Output

    `␊
      1 | foo.addEventListener('click', () => {})␊
    `

> Error 1/1

    `␊
    > 1 | foo.onclick = () => {}␊
        |     ^^^^^^^ Prefer \`addEventListener\` over \`onclick\`.␊
    `

## Invalid(2): foo.onclick = 1

> Input

    `␊
      1 | foo.onclick = 1␊
    `

> Output

    `␊
      1 | foo.addEventListener('click', 1)␊
    `

> Error 1/1

    `␊
    > 1 | foo.onclick = 1␊
        |     ^^^^^^^ Prefer \`addEventListener\` over \`onclick\`.␊
    `

## Invalid(3): foo.bar.onclick = onClick

> Input

    `␊
      1 | foo.bar.onclick = onClick␊
    `

> Output

    `␊
      1 | foo.bar.addEventListener('click', onClick)␊
    `

> Error 1/1

    `␊
    > 1 | foo.bar.onclick = onClick␊
        |         ^^^^^^^ Prefer \`addEventListener\` over \`onclick\`.␊
    `

## Invalid(4): const bar = null; foo.onclick = bar;

> Input

    `␊
      1 | const bar = null; foo.onclick = bar;␊
    `

> Output

    `␊
      1 | const bar = null; foo.addEventListener('click', bar);␊
    `

> Error 1/1

    `␊
    > 1 | const bar = null; foo.onclick = bar;␊
        |                       ^^^^^^^ Prefer \`addEventListener\` over \`onclick\`.␊
    `

## Invalid(5): foo.onkeydown = () => {}

> Input

    `␊
      1 | foo.onkeydown = () => {}␊
    `

> Output

    `␊
      1 | foo.addEventListener('keydown', () => {})␊
    `

> Error 1/1

    `␊
    > 1 | foo.onkeydown = () => {}␊
        |     ^^^^^^^^^ Prefer \`addEventListener\` over \`onkeydown\`.␊
    `

## Invalid(6): foo.ondragend = () => {}

> Input

    `␊
      1 | foo.ondragend = () => {}␊
    `

> Output

    `␊
      1 | foo.addEventListener('dragend', () => {})␊
    `

> Error 1/1

    `␊
    > 1 | foo.ondragend = () => {}␊
        |     ^^^^^^^^^ Prefer \`addEventListener\` over \`ondragend\`.␊
    `

## Invalid(7): foo.onclick = function (e) { console.log(e); }

> Input

    `␊
      1 | foo.onclick = function (e) {␊
      2 | 	console.log(e);␊
      3 | }␊
    `

> Output

    `␊
      1 | foo.addEventListener('click', function (e) {␊
      2 | 	console.log(e);␊
      3 | })␊
    `

> Error 1/1

    `␊
    > 1 | foo.onclick = function (e) {␊
        |     ^^^^^^^ Prefer \`addEventListener\` over \`onclick\`.␊
      2 | 	console.log(e);␊
      3 | }␊
    `

## Invalid(8): foo.onclick = null

> Input

    `␊
      1 | foo.onclick = null␊
    `

> Error 1/1

    `␊
    > 1 | foo.onclick = null␊
        |     ^^^^^^^ Prefer \`removeEventListener\` over \`onclick\`.␊
    `

## Invalid(9): foo.onclick = undefined

> Input

    `␊
      1 | foo.onclick = undefined␊
    `

> Error 1/1

    `␊
    > 1 | foo.onclick = undefined␊
        |     ^^^^^^^ Prefer \`removeEventListener\` over \`onclick\`.␊
    `

## Invalid(10): window.onbeforeunload = null

> Input

    `␊
      1 | window.onbeforeunload = null␊
    `

> Error 1/1

    `␊
    > 1 | window.onbeforeunload = null␊
        |        ^^^^^^^^^^^^^^ Prefer \`removeEventListener\` over \`onbeforeunload\`.␊
    `

## Invalid(11): window.onbeforeunload = undefined

> Input

    `␊
      1 | window.onbeforeunload = undefined␊
    `

> Error 1/1

    `␊
    > 1 | window.onbeforeunload = undefined␊
        |        ^^^^^^^^^^^^^^ Prefer \`removeEventListener\` over \`onbeforeunload\`.␊
    `

## Invalid(12): window.onbeforeunload = foo

> Input

    `␊
      1 | window.onbeforeunload = foo␊
    `

> Error 1/1

    `␊
    > 1 | window.onbeforeunload = foo␊
        |        ^^^^^^^^^^^^^^ Prefer \`addEventListener\` over \`onbeforeunload\`. Use \`event.preventDefault(); event.returnValue = 'foo'\` to trigger the prompt.␊
    `

## Invalid(13): window.onbeforeunload = () => 'foo'

> Input

    `␊
      1 | window.onbeforeunload = () => 'foo'␊
    `

> Error 1/1

    `␊
    > 1 | window.onbeforeunload = () => 'foo'␊
        |        ^^^^^^^^^^^^^^ Prefer \`addEventListener\` over \`onbeforeunload\`. Use \`event.preventDefault(); event.returnValue = 'foo'\` to trigger the prompt.␊
    `

## Invalid(14): window.onbeforeunload = () => { return bar; }

> Input

    `␊
      1 | window.onbeforeunload = () => {␊
      2 | 	return bar;␊
      3 | }␊
    `

> Error 1/1

    `␊
    > 1 | window.onbeforeunload = () => {␊
        |        ^^^^^^^^^^^^^^ Prefer \`addEventListener\` over \`onbeforeunload\`. Use \`event.preventDefault(); event.returnValue = 'foo'\` to trigger the prompt.␊
      2 | 	return bar;␊
      3 | }␊
    `

## Invalid(15): window.onbeforeunload = function () { return 'bar'; }

> Input

    `␊
      1 | window.onbeforeunload = function () {␊
      2 | 	return 'bar';␊
      3 | }␊
    `

> Error 1/1

    `␊
    > 1 | window.onbeforeunload = function () {␊
        |        ^^^^^^^^^^^^^^ Prefer \`addEventListener\` over \`onbeforeunload\`. Use \`event.preventDefault(); event.returnValue = 'foo'\` to trigger the prompt.␊
      2 | 	return 'bar';␊
      3 | }␊
    `

## Invalid(16): window.onbeforeunload = function () { return; }

> Input

    `␊
      1 | window.onbeforeunload = function () {␊
      2 | 	return;␊
      3 | }␊
    `

> Output

    `␊
      1 | window.addEventListener('beforeunload', function () {␊
      2 | 	return;␊
      3 | })␊
    `

> Error 1/1

    `␊
    > 1 | window.onbeforeunload = function () {␊
        |        ^^^^^^^^^^^^^^ Prefer \`addEventListener\` over \`onbeforeunload\`.␊
      2 | 	return;␊
      3 | }␊
    `

## Invalid(17): window.onbeforeunload = function () { (() => { return 'foo'; })(); }

> Input

    `␊
      1 | window.onbeforeunload = function () {␊
      2 | 	(() => {␊
      3 | 		return 'foo';␊
      4 | 	})();␊
      5 | }␊
    `

> Output

    `␊
      1 | window.addEventListener('beforeunload', function () {␊
      2 | 	(() => {␊
      3 | 		return 'foo';␊
      4 | 	})();␊
      5 | })␊
    `

> Error 1/1

    `␊
    > 1 | window.onbeforeunload = function () {␊
        |        ^^^^^^^^^^^^^^ Prefer \`addEventListener\` over \`onbeforeunload\`.␊
      2 | 	(() => {␊
      3 | 		return 'foo';␊
      4 | 	})();␊
      5 | }␊
    `

## Invalid(18): window.onbeforeunload = e => { console.log(e); }

> Input

    `␊
      1 | window.onbeforeunload = e => {␊
      2 | 	console.log(e);␊
      3 | }␊
    `

> Output

    `␊
      1 | window.addEventListener('beforeunload', e => {␊
      2 | 	console.log(e);␊
      3 | })␊
    `

> Error 1/1

    `␊
    > 1 | window.onbeforeunload = e => {␊
        |        ^^^^^^^^^^^^^^ Prefer \`addEventListener\` over \`onbeforeunload\`.␊
      2 | 	console.log(e);␊
      3 | }␊
    `

## Invalid(19): const foo = require('foo'); foo.onerror = () => {};

> Input

    `␊
      1 | const foo = require('foo');␊
      2 |␊
      3 | foo.onerror = () => {};␊
    `

> Error 1/1

    `␊
      1 | const foo = require('foo');␊
      2 |␊
    > 3 | foo.onerror = () => {};␊
        |     ^^^^^^^ Prefer \`addEventListener\` over \`onerror\`. Note that there is difference between \`{window,element}.onerror\` and \`{window,element}.addEventListener('error')\`.␊
    `

## Invalid(20): import foo from 'foo'; foo.onerror = () => {};

> Input

    `␊
      1 | import foo from 'foo';␊
      2 |␊
      3 | foo.onerror = () => {};␊
    `

> Error 1/1

    `␊
      1 | import foo from 'foo';␊
      2 |␊
    > 3 | foo.onerror = () => {};␊
        |     ^^^^^^^ Prefer \`addEventListener\` over \`onerror\`. Note that there is difference between \`{window,element}.onerror\` and \`{window,element}.addEventListener('error')\`.␊
    `

## Invalid(21): foo.onerror = () => {}; function bar() { const koa = require('koa'); koa.onerror = () => {}; }

> Input

    `␊
      1 | foo.onerror = () => {};␊
      2 |␊
      3 | function bar() {␊
      4 | 	const koa = require('koa');␊
      5 |␊
      6 | 	koa.onerror = () => {};␊
      7 | }␊
    `

> Error 1/1

    `␊
    > 1 | foo.onerror = () => {};␊
        |     ^^^^^^^ Prefer \`addEventListener\` over \`onerror\`. Note that there is difference between \`{window,element}.onerror\` and \`{window,element}.addEventListener('error')\`.␊
      2 |␊
      3 | function bar() {␊
      4 | 	const koa = require('koa');␊
      5 |␊
      6 | 	koa.onerror = () => {};␊
      7 | }␊
    `

## Invalid(22): const Koa = require('koa'); const app = new Koa(); app.onerror = () => {};

> Input

    `␊
      1 | const Koa = require('koa');␊
      2 | const app = new Koa();␊
      3 |␊
      4 | app.onerror = () => {};␊
    `

> Options

    `␊
    [␊
      {␊
        "excludedPackages": [␊
          "foo"␊
        ]␊
      }␊
    ]␊
    `

> Error 1/1

    `␊
      1 | const Koa = require('koa');␊
      2 | const app = new Koa();␊
      3 |␊
    > 4 | app.onerror = () => {};␊
        |     ^^^^^^^ Prefer \`addEventListener\` over \`onerror\`. Note that there is difference between \`{window,element}.onerror\` and \`{window,element}.addEventListener('error')\`.␊
    `

## Invalid(23): import {Koa as Foo} from 'koa'; const app = new Foo(); app.onerror = () => {};

> Input

    `␊
      1 | import {Koa as Foo} from 'koa';␊
      2 | const app = new Foo();␊
      3 |␊
      4 | app.onerror = () => {};␊
    `

> Options

    `␊
    [␊
      {␊
        "excludedPackages": [␊
          "foo"␊
        ]␊
      }␊
    ]␊
    `

> Error 1/1

    `␊
      1 | import {Koa as Foo} from 'koa';␊
      2 | const app = new Foo();␊
      3 |␊
    > 4 | app.onerror = () => {};␊
        |     ^^^^^^^ Prefer \`addEventListener\` over \`onerror\`. Note that there is difference between \`{window,element}.onerror\` and \`{window,element}.addEventListener('error')\`.␊
    `

## Invalid(24): const sax = require('sax'); const parser = sax.parser(); parser.onerror = () => {};

> Input

    `␊
      1 | const sax = require('sax');␊
      2 | const parser = sax.parser();␊
      3 |␊
      4 | parser.onerror = () => {};␊
    `

> Options

    `␊
    [␊
      {␊
        "excludedPackages": [␊
          "foo"␊
        ]␊
      }␊
    ]␊
    `

> Error 1/1

    `␊
      1 | const sax = require('sax');␊
      2 | const parser = sax.parser();␊
      3 |␊
    > 4 | parser.onerror = () => {};␊
        |        ^^^^^^^ Prefer \`addEventListener\` over \`onerror\`. Note that there is difference between \`{window,element}.onerror\` and \`{window,element}.addEventListener('error')\`.␊
    `

## Invalid(25): myWorker.port.onmessage = function(e) {}

> Input

    `␊
      1 | myWorker.port.onmessage = function(e) {}␊
    `

> Error 1/1

    `␊
    > 1 | myWorker.port.onmessage = function(e) {}␊
        |               ^^^^^^^^^ Prefer \`addEventListener\` over \`onmessage\`. Note that there is difference between \`SharedWorker#onmessage\` and \`SharedWorker#addEventListener('message')\`.␊
    `

## Invalid(26): ((foo)).onclick = ((0, listener))

> Input

    `␊
      1 | ((foo)).onclick = ((0, listener))␊
    `

> Output

    `␊
      1 | (foo).addEventListener('click', (0, listener))␊
    `

> Error 1/1

    `␊
    > 1 | ((foo)).onclick = ((0, listener))␊
        |         ^^^^^^^ Prefer \`addEventListener\` over \`onclick\`.␊
    `

## Invalid(27): window.onload = window.onunload = function() {};

> Input

    `␊
      1 | window.onload = window.onunload = function() {};␊
    `

> Output

    `␊
      1 | window.addEventListener('load', window.onunload = function() {});␊
    `

> Error 1/2

    `␊
    > 1 | window.onload = window.onunload = function() {};␊
        |        ^^^^^^ Prefer \`addEventListener\` over \`onload\`.␊
    `

> Error 2/2

    `␊
    > 1 | window.onload = window.onunload = function() {};␊
        |                        ^^^^^^^^ Prefer \`addEventListener\` over \`onunload\`.␊
    `

## Invalid(28): window.onunload ??= function() {};

> Input

    `␊
      1 | window.onunload ??= function() {};␊
    `

> Error 1/1

    `␊
    > 1 | window.onunload ??= function() {};␊
        |        ^^^^^^^^ Prefer \`addEventListener\` over \`onunload\`.␊
    `

## Invalid(29): window.onunload ||= function() {};

> Input

    `␊
      1 | window.onunload ||= function() {};␊
    `

> Error 1/1

    `␊
    > 1 | window.onunload ||= function() {};␊
        |        ^^^^^^^^ Prefer \`addEventListener\` over \`onunload\`.␊
    `

## Invalid(30): window.onunload += function() {};

> Input

    `␊
      1 | window.onunload += function() {};␊
    `

> Error 1/1

    `␊
    > 1 | window.onunload += function() {};␊
        |        ^^^^^^^^ Prefer \`addEventListener\` over \`onunload\`.␊
    `
