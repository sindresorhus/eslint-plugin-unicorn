# Snapshot report for `test/no-top-level-side-effects.js`

The actual snapshot is saved in `no-top-level-side-effects.js.snap`.

Generated by [AVA](https://avajs.dev).

## invalid(1): console.log('loaded'); export const foo = 'bar';

> Input

    `␊
      1 | console.log('loaded');␊
      2 | export const foo = 'bar';␊
    `

> Error 1/1

    `␊
    Message:␊
    > 1 | console.log('loaded');␊
        | ^^^^^^^^^^^^^^^^^^^^^^ Do not use top-level side effects in modules.␊
      2 | export const foo = 'bar';␊
    `

## invalid(2): fetch('/api/init'); export default function app() {}

> Input

    `␊
      1 | fetch('/api/init');␊
      2 | export default function app() {}␊
    `

> Error 1/1

    `␊
    Message:␊
    > 1 | fetch('/api/init');␊
        | ^^^^^^^^^^^^^^^^^^^ Do not use top-level side effects in modules.␊
      2 | export default function app() {}␊
    `

## invalid(3): document.title = 'gone'; export const x = 1;

> Input

    `␊
      1 | document.title = 'gone';␊
      2 | export const x = 1;␊
    `

> Error 1/1

    `␊
    Message:␊
    > 1 | document.title = 'gone';␊
        | ^^^^^^^^^^^^^^^^^^^^^^^^ Do not use top-level side effects in modules.␊
      2 | export const x = 1;␊
    `

## invalid(4): Object.defineProperty(globalThis, 'foo', { value: 1 }); export const x = 1;

> Input

    `␊
      1 | Object.defineProperty(globalThis, 'foo', { value: 1 });␊
      2 | export const x = 1;␊
    `

> Error 1/1

    `␊
    Message:␊
    > 1 | Object.defineProperty(globalThis, 'foo', { value: 1 });␊
        | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Do not use top-level side effects in modules.␊
      2 | export const x = 1;␊
    `

## invalid(5): console.log('a'); fetch('/api'); export const x = 1;

> Input

    `␊
      1 | console.log('a');␊
      2 | fetch('/api');␊
      3 | export const x = 1;␊
    `

> Error 1/2

    `␊
    Message:␊
    > 1 | console.log('a');␊
        | ^^^^^^^^^^^^^^^^^ Do not use top-level side effects in modules.␊
      2 | fetch('/api');␊
      3 | export const x = 1;␊
    `

> Error 2/2

    `␊
    Message:␊
      1 | console.log('a');␊
    > 2 | fetch('/api');␊
        | ^^^^^^^^^^^^^^ Do not use top-level side effects in modules.␊
      3 | export const x = 1;␊
    `

## invalid(6): (function() { console.log('init'); })(); export const x = 1;

> Input

    `␊
      1 | (function() { console.log('init'); })();␊
      2 | export const x = 1;␊
    `

> Error 1/1

    `␊
    Message:␊
    > 1 | (function() { console.log('init'); })();␊
        | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Do not use top-level side effects in modules.␊
      2 | export const x = 1;␊
    `

## invalid(7): export const x = 1; console.log('after export');

> Input

    `␊
      1 | export const x = 1;␊
      2 | console.log('after export');␊
    `

> Error 1/1

    `␊
    Message:␊
      1 | export const x = 1;␊
    > 2 | console.log('after export');␊
        | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Do not use top-level side effects in modules.␊
    `
